# 1 тур
## 1
Задана трапеція $ABCD$ з основами $AB$ і $CD$. Нехай існують такі точки $E$ на прямій $BC$, зовні відрізку $BC$, та точка $F$ всередині відрізку $AD$ такі, що $\angle DAE = \angle CBF$. Позначимо через $I$ та $J$ точки перетину з прямою $EF$ прямих $CD$ та $AB$ відповідно. Нехай точка $K$ – середина відрізку $EF$ і вона не лежить на прямій $AB$. Довести, що точка $K$ лежить на колі, що описане навколо трикутника $ABI$ тоді і тільки тоді, коли точка $K$ лежить на колі, що описане навколо трикутника $CDJ$.
<details><summary>Розв’язання</summary>

Нехай розташування точок як на рис.313. З умов задачі $\angle EBF = 180^\circ - \angle CBF = 180^\circ - \angle EAF$, тому чотирикутник $AEBF$ – вписаний. Звідси $AJ \cdot JB = FJ \cdot JF$. Приймаючи це до уваги, точка $I$ лежить на описаному навколо $\triangle ABK$ колі тоді і тільки тоді, коли $IJ \cdot JK = FJ \cdot JF$. Оскільки $IJ = IF + FJ$, $JE = FE - FJ$ та $JK = \frac{1}{2}FE - FJ$, то це означає, що $I$ лежить на описаному навколо $\triangle ABK$ колі тоді і тільки тоді, коли $FJ = \frac{IF\cdot FE }{2IF + FE}$. 

Оскільки $AEBF$ – вписаний, та $AB \parallel CD$, то $\angle FEC = \angle FAB = 180^\circ - \angle CDF$, то $CDFE$ також циклічний, тому $ID \cdot IC = IF \cdot IE$. Звідси випливає, що $K$ лежить на описаному навколо $\triangle CDJ$ тоді і тільки тоді, коли $IJ \cdot IK = IF \cdot IE$. Визначаючи відрізки $IJ = IF + FJ$, $IK = IF + \frac{FE}{2}$ та $IE = IF + FE$, ми знаходимо, що $K$ лежить на описаному навколо $\triangle CDJ$ тоді і тільки тоді, коли $FJ = \frac{IF\cdot FE }{2IF + FE}$, що й доводить шукане.

_*Зауваження.*_ На рис.313 показана ситуація, коли точка $B$ на відрізку $CE$. Інший варіант – це точка $C$ лежить на відрізку $BE$. Тоді точка $I$ буде всередині, а точка $J$ – зовні відрізку $FE$, розташування точки $K$ відносно $I$, $J$ може змінюватись. 

Так само, можливо при міркуваннях треба буде замість кута $\varphi$ розглянути кут $\pi - \varphi$, там сума може стати різницею. Але цей розв’язок принципово не зміниться, якщо розглянути відстані та кути із знаками.
</details>

## 2
Нехай $a$, $b$, $c$ – сторони деякого трикутника. Знайти найменше значення $k$, для якого завжди виконується нерівність $\left| \frac{a-b}{a+b} + \frac{b-c}{b+c} + \frac{c-a}{c+a}\right| < k$.
<details><summary>Відповідь</summary>

$k = \frac{8\sqrt{2} - 5\sqrt{5}}{3}$
<details><summary>Розв’язання</summary>

Шляхом простих перетворень можемо одержати рівність: $\frac{a-b}{a+b}+ \frac{b-c}{b+c}+\frac{c-a}{c+a} = \frac{a-b}{a+b}\cdot \frac{b-c}{b+c}\cdot\frac{c-a}{c+a}$. Без обмеження загальності будемо вважати, що $a \geq b \geq c$, позначимо $b = c + \alpha$, $a = c + \alpha + \beta$. Для існування такого трикутника необхідно й достатньо, щоб виконувалась умова $\beta < c$. Тоді задана в умові нерівність набуває такого вигляду: $X = \frac{\alpha\beta(\alpha+\beta)}{(2c+\alpha)(2c+\alpha+\beta)(2c+2\alpha+\beta)} < k$. Оскільки $2c > 2\beta$, то $X < \frac{\alpha\beta(\alpha+\beta)}{(2\beta+\alpha)(\alpha+3\beta)(2\alpha+3\beta)} = Y$. Знайдемо таке число $k_1$, при якому $\forall\alpha$, $\beta > 0$ виконується умова $Y \leq k_1$. Перепишемо вираз: $Y = \frac{2\frac{\alpha}{2}((\beta + \frac{\alpha}{2}) - \frac{\alpha}{2})((\beta+\frac{\alpha}{2}) + \frac{\alpha}{2})}{2(\beta+\frac{\alpha}{2})(3(\beta+\frac{\alpha}{2})+\frac{\alpha}{2})(3(\beta+\frac{\alpha}{2})+\frac{\alpha}{2})} \leq k_1$. Покладемо $x=\beta+\frac{\alpha}{2}$, $y=\frac{\alpha}{2}$. Тоді остання нерівність набуде такого вигляду $\frac{y(x+y)(x-y)}{x(3x+y)(3x-y)} \le k_1 \iff \frac{1}{k_1} \le \frac{\left(9(\frac{x}{y})^2 - 1\right)\frac{x}{y}}{(\frac{x}{y})^2-1}$, далі знову позначимо $t = \frac{x}{y} = \frac{2\beta+\alpha}{\alpha} > 1$, тоді $\frac{1}{k_1} \le \frac{(9t^2-1)t}{t^2-1}$. Знайдемо найменше значення функції $f(t) = \frac{(9t^2-1)t}{t^2-1}$ при $t > 1$. Оскільки $f'(t) = \frac{9t^4 - 26t^2 + 1}{(t^2-1)^2}$, то можемо знайти екстремальні точки: $t^2 = \frac{13 \pm 4\sqrt{10}}{9}$, умові $t > 1$ задовольняє лише точка $t_0 = \sqrt{\frac{13+4\sqrt{10}}{9}} = \frac{\sqrt{5}+2\sqrt{2}}{3}$, легко переконатись, що це є шукана точка мінімуму. При цьому $f(t_0) = f\left(\frac{\sqrt{5}+2\sqrt{2}}{3}\right) = 8\sqrt{2}+5\sqrt{5}$, отже $k_1 \ge \frac{1}{8\sqrt{2}+5\sqrt{5}} =\frac{8\sqrt{2}-5\sqrt{5}}{3}$ і $k_1=\frac{8\sqrt{2}-5\sqrt{5}}{3}$.

Доведемо, що $k = k_1$. Очевидним є той факт, що $k \geq k_1$. Припустимо, що $k > k_1$. В попередніх позначеннях: $t_0 = \frac{x_0}{y_0} = \frac{\beta_0 + \frac{1}{2}\alpha_0}{\frac{1}{2}\alpha_0} = \frac{2\beta_0}{\alpha_0}+1 \implies \beta_0 = \frac{(t_0-1)\alpha_0}{2}$. Виберемо $\alpha$ і $\beta$, таким чином, щоб виконувалося співвідношення $\beta_0 = \frac{(t_0-1)\alpha_0}{2}$. Розглянемо функцію $X(c) = \frac{(2\alpha\beta)(\alpha+\beta)}{(2c+\alpha)(2c+\alpha+\beta)(2c+2\alpha+\beta)}$. Вона неперервна у точці $c = \beta$ і $X(\beta) = f(t_0) = 8\sqrt{2}+5\sqrt{5}$, тому $\forall\epsilon > 0 \exists\delta > 0: \forall x\in(\beta - \delta, \beta + \delta) \implies |X(x) - X(\beta)| < \epsilon$. Поклавши $\epsilon = \frac{1}{2}(k_1 - k)$ і взявши деяке $c$ з інтервалу $(\beta, \beta + \delta)$ отримаємо отримаємо деякий трикутник зі сторонами $c$, $b=c+\alpha$, $a=c+\alpha+\beta$, для якого $k_1 > X(c)>k$. Отримане протиріччя доводить, що $k=k_1=\frac{8\sqrt{2}-5\sqrt{5}}{3}$.
</details></details>

## 3
Нехай $S$ – це деяка множина, що складається з $n$ елементів, $F$ – це сукупність підмножин $S$, що складається з $2^{n-1}$ таких підмножин, що кожні три такі підмножини мають непорожній перетин.
1. Показати, що перетин усіх підмножин з $F$ непорожній.
2. Якщо замінити кількість множин з $2^{n-1}$ на $2^{n-1} - 1$, чи зміниться попередня відповідь?
<details><summary>Відповідь</summary>
Відповідь не зміниться.
<details><summary>Розв’язання</summary>

1. Позначимо через $CX$ – доповнення до множини $X$, зрозуміло, що одночасно у множину $F$ не можуть попадати $X$ та $CX$, оскільки усього підмножин $2^n$, то рівно половина попадає до сукупності $F$, звідки з кожної пари $X$ та $CX$ рівно одна входить до $F$. 

	Нехай тепер $A,B\in F$. Якщо тепер $C(A\cap B)\in F$, то маємо три множини з $F$, які не перетинаються, що суперечить умові. Таким чином $C(A\cap B)\notin F$, звідки $A \cap B \in F$, тобто множина $F$ замкнена відносно перетину. Таким чином перетин усіх множин повинен належати цій множині, очевидно, що порожня множина не міститься в $F$, звідки й доведено, що перетин усіх множин непорожній.
2. Якщо тепер замінити кількість підмножин з $2^{n-1}$ на $2^{n-1}-1$, то відповідь не зміниться. З попередніх міркувань випливає, що існує множина $D$, для якої ні $D$, ні $CD$ не належать сукупності $F$, але для усіх інших множин $X$, як і раніше – або $X$, або $CX$ належать $F$. Спочатку розглянемо випадок, що існує принаймні одна множина $X \in F$, така що $X$ не містить ні $D$, ні $CD$. Тоді для кожної іншої множини $Y \in F$ множина $X \cap Y$ не містить ні $D$, ні $CD$, тому $C(X \cap Y)$ не співпадає ні з $D$, ні $CD$, а тому, аналогічно доведеному у пункті 1), ми маємо $X \cap Y \in F$. Оскільки $X \cap Y \subset X$, то воно не містить $D$ або $CD$. Продовжуючи аналогічно ми одержимо, що перетин множин не є порожнім.

	Таким чином ми одержали це для кожної множини з $F$, що не містить $D$ чи $CD$. Множини $D$ або $CD$ не можуть бути порожніми, оскільки, якщо це так, то додаючи до усього набору множин $F$ повну множину, то ми одержимо сукупність, що складається з $2^{n-1}$ множин та має непорожній перетин, що безпосередньо випливає з пункту 1).

	Якщо таких множин $X$ не існує, то зараз порахуємо, скільки множин містить у собі $D$ чи $CD$. Усього $2^{|CD|}$ множин містять $D$, та $2^{|D|}$ множин містять $CD$. Але уся множина рахувалася двічі, таким чином усього таким множин $2^{|CD|} + 2^{|D|} - 1$. Так само підраховано множини $D$ та $CD$, які не належать $F$. Звідси $2^{n-1}-1 = |F| \ge 2^{|CD|} + 2^{|D|} - 3$. Нехай $\max\{|D|,|CD|\}=t$, то $2^{n-1} -1 \le 2^t + 2^t -3=2^{t+1}-3$. Це показує, що $t \ge n-1$, оскільки $D$ та $CD$ не порожні, то $t=n-1$. Без обмежень загальності вважаємо, що $|D|=1$, $|CD|=n-1$. Але тоді кожна множина, що містить $CD$, це є або сама множина $CD$, або повна множина. Оскільки $CD$ не міститься в $F$, то лише повна множина може містити $CD$, але ця множина так само містить і $D$. Тобто кожна множина з $F$ містить $C$, що й означає, що перетин усіх множин з $F$ непорожній. 
</details></details>

# 2 тур
## 4
Нехай $n$ – деяке натуральне число. Знайти всі функції $f: \mathbb{R}^+ \to \mathbb{R}$ (тобто функції, визначені на множині усіх додатних дійсних чисел з дійсними значеннями), для яких виконується рівність $f(x^{n+1}) + f(y^{n+1}) = x^n f(x) + y^n f(y)$ для будь-яких додатних дійсних чисел $x$, $y$.
<details><summary>Відповідь</summary>

$f(x) = ax$, $a$ – довільне дійсне число.
<details><summary>Розв’язання</summary>

Підставимо $x = y$, отримаємо $f(2x^{n+1}) = 2x^n f(x)$, а тому $2 f(x^{n+1} + y^{n+1}) = 2x^n f(x) + 2y^n f(y) = f(2x^{n+1}) + f(2y^{n+1})$. Замінюючи $x^{n+1}$ і $y^{n+1}$ на $a$ і $b$ відповідно, отримаємо рівність
```math
2 f(a + b) = f(2a) + f(2b). \tag{1}
```
Розглянемо вираз $4 f(a + b + c)$. З одного боку, він дорівнює $2 f(2a) + 2 f(2b + 2c) = 2 f(2a) + f(4b) + f(4c)$, з іншого – $f(4a) + f(4b) + 2 f(2c)$, звідки $f(4a) − 2 f(2a) = f(4c) − 2 f(2c)$. Оскільки $f(2x^{n+1}) = 2x^n f(x)$, то $f(2) = 2 f(1)$ і підставляючи у попередню рівність $x = \frac{a}{2}$, $c = \frac{1}{2}$, матимемо $f(2x) − 2 f(x) = f(2) − 2 f(1) = 0$. Тому, з урахуванням (1), функція $f$ – адитивна. Таким чином, маємо дві умови на $f$: $f(x + y) = f(x) + f(y)$ і $f(x^{n+1}) = x^n f(x)$.

З адитивності $f$ випливає, що $f(kx) = kf(x)$ для $k \in \mathbb{N}$. Нехай $x = t + k$, де $k$ – натуральне. Тоді $f((t + k)^{n+1}) = (t+k)^n f(t+k)$, а отже, $\sum_{i=0}^{n+1} f\left(C^{n+1}_i t^i k^{n+1-i}\right) = (t+k)^n(f(t)+f(k))$, $\sum_{i=0}^{n+1} C_{n+1}^i k^i f(t^{n+1-i}) - (t+k)^n(f(t)+kf(1))=0$. Зафіксуємо $t$ і розглянемо останній вираз як многочлен відносно $k$. Він дорівнює 0 в усіх натуральних точках, а тому він тотожний 0. Знайдемо коефіцієнт при $k^n$. З одного боку, він рівний $C_{n+1}^n f(t) -f(t)- C_n^1 f(1)t$, з іншого він – 0, тому $f(t) = f(1)t$. Розглядаючи довільне $t$, отримаємо $f(t) = at$, де $a = f(1) \in \mathbb{R}$. Безпосередньою перевіркою переконуємось, що $f(x) = ax$ задовольняє умову задачі.
</details></details>

## 5
Нехай $A$, $B$, $C$, $D$ та $E$ – послідовні точки на колі з центром в точці $O$, такі, що $AC = BD = CE = DO$. Нехай точки $H_1$, $H_2$ та $H_3$ – це точки перетину висот трикутників $ACD$, $BCD$ та $BCE$ відповідно. Довести, що трикутник $H_1H_2H_3$ – прямокутний.
<details><summary>Розв’язання 1</summary>

Так як точка $H_1$ – ортоцентр трикутника $ACD$, а $O$ – центр описаного кола цього трикутника, то $\overrightarrow{OH_1} = \overrightarrow{OA} + \overrightarrow{OC} + \overrightarrow{OD}$. Аналогічно, $\overrightarrow{OH_2} = \overrightarrow{OB} + \overrightarrow{OC} + \overrightarrow{OD}$ та $\overrightarrow{OH_3} = \overrightarrow{OB} + \overrightarrow{OC} + \overrightarrow{OE}$. Отже, $\overrightarrow{H_1H_2} = \overrightarrow{OH_2} − \overrightarrow{OH_1} = \overrightarrow{OB} − \overrightarrow{OA}$ та $\overrightarrow{H_2H_3} = \overrightarrow{OH_3} − \overrightarrow{OH_2} = \overrightarrow{OE} − \overrightarrow{OD}$. Скалярний добуток цих векторів дорівнює
```math
\overrightarrow{H_1H_2} \cdot \overrightarrow{H_2H_3} = (\overrightarrow{OB} − \overrightarrow{OA})(\overrightarrow{OE} − \overrightarrow{OD}) = \overrightarrow{OB} \cdot \overrightarrow{OE} − \overrightarrow{OB} \cdot \overrightarrow{OD} − \overrightarrow{OA} \cdot \overrightarrow{OE} + \overrightarrow{OA} \cdot \overrightarrow{OD} = |OB|\cdot|OE|\cos\angle BOE - |OB|\cdot|OD|\cos\angle BOD - |OA|\cdot|OE|\cos\angle AOE + |OA|\cdot|OD|\cos\angle AOD = |OA|^2 (\cos \angle BOE − \cos \angle BOD − \cos \angle AOE + \cos \angle AOD).
```
Трикутники $AOC$ та $COE$ рівносторонні, тому $\angle AOE =120^\circ$. Трикутник $BOD$ також рівносторонній, тому $\angle BOD = 60^\circ$. Отже,
```math
\overrightarrow{H_1H_2} \cdot \overrightarrow{H_2H_3} = |OA|^2 (\cos \angle BOE − \cos 60^\circ − \cos 120^\circ + \cos \angle AOD) = |OA|^2 (\cos \angle BOE + \cos \angle AOD) = 2|OA|^2 \cos \left(\frac{\angle BOE + \angle AOD}{2}\right) \cos \left(\frac{\angle BOE − \angle AOD}{2}\right).
```
Неважко переконатись, що $\angle BOE + \angle AOD = 2 \angle BOD + \angle DOE + \angle AOB$, звідки
```math
\frac{\angle BOE + \angle AOD}{2} = \angle BOD + \frac{\angle DOE + \angle AOD}{2}=60^\circ + \angle DCE + \angle ACB=60^\circ + \angle DCB -\angle ECA = 60^\circ + (180^\circ - 30^\circ) - 120^\circ = 90^\circ,
```
тому $\cos\left(\frac{\angle BOE + \angle AOD}{2}\right) = \cos 90^\circ=0$ і $\overrightarrow{H_1H_2}\cdot \overrightarrow{H_2H_3}=0$, що й завершує доведення.
</details>
<details><summary>Розв’язання 2</summary>

Так як $\angle CH_3B = \angle BEC = \angle BDC = \angle CH_2B$, то точки $C$, $H_3$, $H_2$, $B$ – циклічні. Аналогічно, чотирикутник $CH_1H_2D$ – циклічний.

Ми хочемо показати, що $\angle H_3H_2H_1 = \frac{\pi}{2}$. Але $\angle H_3H_2H_1 = \angle H_3H_2C + \angle CH_2H_1$, тому $\angle H_3H_2C = \angle H_3BC$ та $\angle CH_2H_1 = \angle CDH_1$. Нехай $F$ – точка перетину прямих $BH_3$ та $EC$, $G$ – точка перетину $AC$ та $DH_2$. Треба показати, що $\angle FBC + \angle CDG = \frac{\pi}{2}$. Позначимо ці два кути через $\alpha$ та $\beta$ відповідно. Маємо: $\angle ECB = \frac{\pi}{2} + \alpha$ та $DCA + \frac{\pi}{2} + \beta$. Тому $\alpha + \beta = \angle ECB + \angle DCA - \pi = 2\angle ECA + \angle DCE + \angle ACB - \angle \pi = \frac{\pi}{3} + \angle DCE + \angle ACB$. При цьому $\angle ACB = \angle CAD$, так як чотирикутник $ABCD$ – рівнобічна трапеція. А значить $\angle DCE + \angle ACB = \angle DAE + \angle CAD = \frac{1}{2}\angle COE= 30^\circ$, що й дає $\alpha + \beta = 90^\circ$.
</details>

## 6
Знайти всі непарні прості числа $p$, для яких існує натуральне $g$, при якому множини $A = \left\{(k^2+1) \mod p\mid k=1,2,\ldots,\frac{p-1}{2}\right\}$ і $B = \left\{g^k \mod p\mid k=1,2,\ldots,\frac{p-1}{2}\right\}$ рівні.
<details><summary>Відповідь</summary>

$p = 3$
<details><summary>Розв’язання</summary>

Припустимо, що $g$ ділиться на $p$, тоді $B = \{0\}$, але $2\in A$, тобто рівність множин неможлива. Отже, $(g, p) = 1$. Зауважимо, що $|A| = \frac{p-1}{2}$, тому має бути $|B| = \frac{p-1}{2}$. Якщо для деякого $m$ $g^m \equiv 1 \pmod{1}$, то $|B| \leq m$, а отже, $\frac{p-1}{2} \leq m$, тому можливі лише варіанти $m=\frac{p-1}{2}$, і $m = p - 1$. Розглянемо перший з варіантів. $g^\frac{p-1}{2} \equiv 1 \pmod{p}$, тому $1 \in B = A$, але для всіх $k = \overline{1,\frac{p-1}{2}}$: $(k^2 + 1) \not\equiv 1 \pmod{p}$, тобто цей випадок неможливий.

Нехай тепер $g^{p-1} \equiv 1 \pmod{p}$, і $\forall t = \overline{1, p - 2}$ $g^t \not\equiv 1 \pmod{p}$. Звідси $g^\frac{p-1}{2} \equiv -1 \pmod{p}$ і $\left(\frac{-1}{p}\right)=-1$ (де $\left(\frac{k}{p}\right)$ – символ Лежандра), інакше $0 \in A = B$, що неможливо. Доведемо наступне твердження: якщо $\left(\frac{a}{p}\right) = 1$, то $\left(\frac{a+2}{p}\right) = 1$. 

$\left(\frac{a}{p}\right) = 1 \implies a \equiv k^2 \pmod{p} \implies a + 1 \equiv k^2 + 1 \pmod{p} \in A \implies a+1 \in B \implies (-a-1)\pmod{p} \not\in B \implies \forall t=\overline{1,\frac{p-1}{2}}: t^2+1 \not\equiv -a-1 \pmod{p} \implies \left(\frac{-a-2}{p}\right) = -1 \implies \left(\frac{a+2}{p}\right) = 1$. Оскільки $\left(\frac{1}{p}\right) = 1$, то $\left(\frac{2k+1}{p}\right) = 1$, $k = \overline{1, \frac{p-1}{2}}$. З іншого боку, при $p > 3$, $\left(\frac{4}{p}\right) = 1$, звідки $|A| \ge \frac{p-1}{2}+1 > \frac{p-1}{2}$ – протиріччя. Отже, єдиний можливий випадок $p = 3$. В такому випадку можна взяти $g = 2$ і твердження задачі буде виконано. Таким чином, відповідь на питання задачі $p = 3$.
</details></details>

# 3 тур
## 7
Нехай $a_1, a_2, \ldots, a_n$ – різні натуральні числа, $n \geq 3$. Довести, що існують різні індекси $i$ та $j$, такі що $(a_i + a_j)$ не ділить жодне з чисел $3a_1, 3a_2, \ldots, 3a_n$.
<details><summary>Розв’язання</summary>

Без обмеження загальності можна вважати, що $0<a_1<a_2<\ldots<a_n$. Можна також вважати, що $a_1, a_2, \ldots, a_n$ взаємнопрості в сукупності. В іншому випадку поділивши всі числа на їх НСД отримаємо те ж саме питання для нової послідовності, усі члени якої взаємнопрості числа.

Припустимо, що твердження задачі невірне. Тоді $\forall i < n \exists j$, таке що $(a_n + a_i)$ ділить $3a_j$. Якщо $(an + a_i)$ не ділиться на 3, то $(a_n + a_i)$ ділить $a_j$, що неможливо, тому що $0 < a_j \leq a_n < a_n + a_i$. Отже, $(a_n + a_i)$ ділиться на 3 $\forall i = \overline{1, n-1}$, а тому всі $a_1,\ldots,a_{n-1}$ конгруентні $(-a_n)$ по модулю 3.

Далі $a_n$ не ділиться на 3, інакше всі $a_i$ також діляться на 3, що суперечить їх взаємнопростоті. Таким чином, $a_n \equiv r \pmod{3}$, де $r \in \{1,2\}$, і $a_i \equiv 3 - r \pmod{3} \forall i = \overline{1,n-1}$.

Розглянемо суму $a_{n-1} + a_i$, де $i = \overline{1,n-2}$. Така сума буде хоча б одна, оскільки $n \geq 3$. Нехай $j$ такий індекс, що $a_{n-1} + a_i \mid 3a_j$. Зауважимо, що $a_{n-1} + a_i$ не ділиться на 3, оскільки $a_{n-1} + a_i\equiv 2a_i \not\equiv 0 \pmod{3}$. Звідси слідує, що $a_{n-1} + a_i \mid a_j$, а отже $a_{n-1} + a_i \leq a_j$. Оскільки $a_{n-1}<a_j\leq a_n$ то $j=n$. Таким чином, $a_n$ ділиться на всі суми $a_{n-1}+a_i$, де $1\le i\le n-2$ і $a_{n-1}+a_i\leq a_n$.

Нехай $3a_j$ ділиться на $a_n + a_{n-1}$. Якщо $j \leq n-2$, то $a_n + a_{n-1} \leq 3a_j < a_j < a_j + 2a_{n-1}$. Звідси, $a_n<a_{n-1}+a)j$ що суперечить доведеному вище. Отже, $j = n-1$ чи $j = n$.

Розглянемо випадок $j=n-1$. Маємо $3a_{n-1} =k(a_n+a_{n-1})$, де $k$ - ціле, звідки слідує, що $k=1$ ($k\leq 0$ і $j\geq 3$ - суперечать $0<a_{n-1}<a_n$; $k=1$ приводить до $a_{n-1}=2a_n>a_{n-1}$). Отже, $3a_{n-1}=a_n+a_{n-1}$, тобто $a_n=2a_{n-1}$.

Аналогічно, якщо $j=n$, то $3a_n=k(a_n+a_{n-1})$, при деякому цілому $k$, і можливий випадок лише $k=2$. Звідси, $a_n=2a_{n-1}$, і це справедливо для обох можливих випадків $j=n-1$ і $j=n$.

Тепер розглянемо випадок $a_n=2a_{n-1}$. В такому разі, сума $a_{n-1}+a_1$ знаходиться строго між $\frac{a_n}{2}$ і $a_n$. Але $a_{n-1}$ і $a_1$ різні, тому $a_{n-1}+a_1\mid a_n$, а це приводить нас до протиріччя.
</details>


## 8
Задані два кола $\gamma_1$ та $\gamma_2$ з центрами у точках $O_1$ та $O_2$ відповідно. На колі $\gamma_2$ вибрали деяку точку $K$ і побудували два кола – $\gamma_3$, яке дотикається до кола $\gamma_2$ у точці $K$ і кола $\gamma_1$ у точці $A$, та $\gamma_4$, яке дотикається до кола $\gamma_2$ у точці $K$ і кола $\gamma_1$ у точці $B$. Довести, що незалежно від вибору точки $K$ на колі $\gamma_2$, усі прямі $AB$ проходять через фіксовану точку площини.
<details><summary>Розв’язання</summary>

Спочатку випадок, коли кола $\gamma_1 \cap \gamma_2 = \emptyset$. Тоді в основі доведення є така лема.

_**Лема**_. Існує інверсія що переводить два кола, що не перетинаються, у концентричні.

Для доведення леми достатньо розглянути інверсію в одній з точок перетину прямої що сполучає центри кіл з колом ортогональним до них. 

Переведемо кола $\gamma_1$, $\gamma_2$ у концентричні інверсією з центром у точці $I$. (рис.314). Точки $A'$, $B'$ будуть діаметрально протилежними у колі $\gamma_2$. Коло описане навколо $A'B'I$ буде проходити через точку $C'$. Її розташування не залежить від $K'$, адже
$OC' = \frac{OA'\cdot OOB'}{OI}$. Прообраз кола описаного навколо $A'B'I$ – пряма $AB$, а точки $C'$ – певна фіксована точка $C$. 

Випадок, якщо кола перетинаються також можна довести за допомогою інверсії.
</details></details>

# 4 тур
## 9
Нехай $S$ – це деяка підмножина дійсних чисел. Назвемо пару функцій $(f, g)$ – _**іспанською парою**_ для множини $S$, якщо вони задовольняють такі умови:
1. обидві функції є строго зростаючими, тобто $\forall x, y \in S, f(x) < f(y), g(x) < g(y)$;
2. $\forall x \in S$ справджується нерівність: $f(g(g(x))) < g(f(x))$.

З’ясувати, чи існує іспанська пара, якщо:
1. множина $S = \mathbb{N}$ – множина натуральних чисел;
2. множина $S = \{a - \frac{1}{b}\mid a, b \in \mathbb{N}\}$.
<details><summary>Відповідь</summary>

1. не існує;
2. існує.
<details><summary>Розв’язання</summary>

1. Впровадимо такі позначення: $g_k(x) = \underbrace{g(g(\ldots g(x)\ldots))}_k$, $k \in \mathbb{N}$, $g_0(x) = x$. Припустимо, що існує іспанська пара для $S = \mathbb{N}$. З властивості 1) $\forall x\in\mathbb{N}$ $f(x) \geq x$, $g(x) \geq x$. Ми стверджуємо, що 
$g_k(x) \leq f(x)$ $\forall k \geq 0$ та $\forall x \in \mathbb{N}$. Доведемо це ММІ. Для випадку $k=0$ усі вже доведене: $f(x) \geq x = g_0(x)$, для індукційного переходу достатньо скористатися умовою 2): $g(g_{k+1}(x)) = g_k(g(x)) \leq f(g_2(x)) < g(f(x))> \implies g_{k+1}(x) < f(x)$ з монотонного зростання функції. Таким чином припущення доведене.

	Якщо $g(x) \equiv x$, то $f(g(g(x))) = f(x) = g(f(x))$, що суперечить умові 2). Це означає, що $\exists x_0 \in \mathbb{N}$: $x_0 < g(x_0)$. Розглянемо послідовність $x_0, x_1, \ldots$, де $x_k = g_k(x_0)$. Вона зростаюча, бо $x_0 < g(x_0) = x_1$, та розуміємо: при $x_k < x_{k+1}$ $x_{k+1} = g(x_k) < g(x_{k+1}) = x_{k+2}$. Але це означає, що значення $f(x_0)$ не визначене, бо за доведеним з одного боку $g_{k+1}(x_0) < f(x_0)$, а з іншого – у лівій частині нескінченно зростаюча послідовність. Одержана суперечність завершує доведення.

2. Наведемо один приклад іспанської пари функцій для такої множини: $f(a -\frac{1}{b})=a+1-\frac{1}{b}$, $g(a-\frac{1}{b}) = a - \frac{1}{b+3^a}$. Ці функції очевидно зростаючі. Залишається перевірити умову 2). $f(g(g(a-\frac{1}{b}))) = a+1-\frac{1}{b+2\cdot 3^a}<a+1 -\frac{1}{b+3^{a+1}} = g(f(a-\frac{1}{b}))$

_**Зауваження.**_ Існують і інші приклади таких іспанських пар, наприклад, $f(a-\frac{1}{b}) = 3a-\frac{1}{b}$, $g(a-\frac{1}{b}) = a - \frac{1}{a + b}$, можна також виписати більш загальні умови на такі пари.
</details></details>

## 10
Всередині опуклого чотирикутника $ABCD$ вибрані точки $P$ та $Q$ таким чином, що $PQDA$ та $QPBC$ – вписані чотирикутники. Припустимо, що існує така точка $E$ на відрізку $PQ$, що $\angle PAE = \angle QDE$ та $\angle PBE = \angle QCE$. Довести, що чотирикутник $ABCD$ також вписаний.
<details><summary>Розв’язання</summary>

Нехай $F$ – така точка на відрізку $AD$, що $EF || AP$. За умовою $PQDA$ – вписаний. Якщо точка $F$ належить відрізку $AD$, то $\angle EFD = \angle PAD =180^\circ - \angle EQD$, точки $F$, $Q$ – по різні боки від прямої $DE \implies EFDQ$ – вписаний. Якщо ж $D$ належить відрізку $AF$, то аналогічно міркуючи, бачимо, що $\angle EFD = \angle EQD$, тоді точки $F$, $Q$ по один бік від прямої $DE$, тому $EDFQ$ – вписаний (рис.315).

У обох випадках маємо рівність $\angle EFQ = \angle EDQ = \angle PAE$, звідки випливає, що $FQ || AE$, тому трикутники $EFQ$ та $PAE$ – гомотетичні, або більш строго, $\triangle EFQ$ є образом $\triangle PAE$ при відображенні $f$, яке перетворює точки $P$, $E$ відповідно у точки $E$, $Q$. Тобто це є гомотетія або паралельний перенос. Зазначимо, що відображення $f$ однозначно визначається розташуванням точок $P$, $E$, $Q$.

Нехай тепер $G$ така точка на прямій $BC$, що $EG || PB$. Повністю аналогічно маємо, що $\triangle EGQ$ є образом $\triangle PBE$ при тому самому відображенні $f$. Тобто це відображення перетворює точки $A$, $P$, $B$, $E$ у точки $F$, $E$, $G$, $Q$ відповідно.

Якщо $PE \neq QE$, то $f$ – гомотетія з центром у деякій точці $X = AF \cap PE \cap BG$. Тому й $AG \cap PQ \cap BC = X$. Оскільки за умовою чотирикутники $PQDA$ та $QPBC$ – вписані, то $XA \cdot XD = XP \cdot XQ = XB \cdot XC$, звідки й випливає, що чотирикутник $ABCD$ – вписаний.

І останній випадок, коли $PE = QE$, то $f$ – паралельний перенос, тому $AD || PQ || BC$, тобто $PQDA$ та $QPBC$ – вписані трапеції, тому вони рівнобічні, звідки й $ABCD$ – рівнобічна трапеція, а тому є вписаним чотирикутником.
</details></details>

## 11
Нехай задано натуральні числа $m < n$. Розглянемо таблицю розміром $n \times n$, у комірках якої довільним чином записані усі числа від 1 до $n^2$. В кожному рядочку таблиці пофарбуємо в жовтий колір $m$ найбільших елементів. Аналогічно, блакитним пофарбуємо $m$ найбільших елементів в кожному стовпчику. Знайти найменшу можливу кількість клітинок, що пофарбовані жовтим і блакитним одночасно.
<details><summary>Відповідь</summary>

$m^2$
<details><summary>Розв’язання</summary>

Назвемо зеленою клітинку, що пофарбована жовтим і блакитним кольорами одночасно, і позначимо кількість зелених клітинок в таблиці $A$ через $m(A)$ ($A$ – наша таблиця). Покажемо, що $m(A)\ge m^2$. Упорядкуємо числа в $j$ - ому стовпчику за спаданням: 
$a_1^{(j)} > a_2^{(j)} >\ldots > a_n^{(j)}$, і без втрати загальності будемо вважати, що $x = a_{m+1}^{(1)} = \max_{1 \leq j \leq n} a_{m+1}^{(j)}$. Припустимо, що існує хоча б одна блакитна, але не жовта клітинка в першому стовпчику. Нехай $a = a_k^{(1)}$ – число записане в цій клітинці. Зауважимо, що $k \leq m$. Виберемо $m$ - те за величиною число, що записане в тому ж рядочку що і $a$, та позначимо його $b = a_i^{(l)}$. Оскільки число $a$ не жовте, то $b > a$. Нехай $y = a_{m+1}^{(l)}$, тоді за припущенням маємо $b > a > x > y$. Далі поміняємо числа $a$ і $b$ місцями і позначимо отриману таблицю $A'$. Умова $b > a > x > y$ означає, що клітинки з $x$ та $y$ залишилися не блакитними після перестановки. Також це означає, що клітинки з $b$ є зеленими в таблицях $A$ і $A'$. Продовжуючи цей процес отримаємо таблицю $A''$, таку що всі блакитні клітинки в першому стовпчику також зелені. 

Тепер викинемо з розгляду перший стовпчик таблиці. Проведемо аналогічні міркування з другим стовпчиком, третім і так далі до $m$. За $m$ кроків отримаємо таблицю, в якій всі блакитні клітинки в перших $m$ стовпчиках зелені, а це означає, що $m(A)^2 \geq m$. Залишається побудувати таблицю $A$, для якої $m(A) \ge m^2$. Прикладом може слугувати таблиця у якої $j$-ий елемент в $i$-му стовпчику дорівнює $(j−1)n + i$.
</details></details>

## 12
Позначимо у гострокутного $\triangle ABC$ зі сторонами $a$, $b$, $c$ відповідно через $H_a$, $H_b$, $H_c$, основи висот $h_a$, $h_b$, $h_c$. Довести нерівність: $\frac{h_a^2}{a^2-CH_a^2} + \frac{h_b^2}{b^2-CH_b^2} + \frac{h_c^2}{c^2-CH_c^2}\ge 3$.
<details><summary>Розв’язання</summary>

Без обмеження загальності розгляду будемо вважати, що діаметр описаного кола дорівнює 1, тоді $a=\sin\alpha$, $b=\sin\beta$, $c=\sin\gamma$, тоді $a = \sin\alpha = \sin(\pi − (\beta + \gamma )) = \sin \beta \cos\gamma + \cos \beta \sin \gamma$ і $CH_a = \sin \beta \cos\gamma$, тобто $a^2 = CH_a^2 = (a-CH_a)(a+CH_a)= (\sin \gamma \cos \beta)(\cos \beta \sin \gamma + 2\sin \beta \cos\gamma)$, тому $\frac{h_a^2}{a^2-CH_a^2} = \frac{\sin^2\beta\sin^2\gamma}{(\sin \gamma \cos \beta)(\cos \beta \sin \gamma + 2\sin \beta \cos\gamma)} = \frac{\tan^2\beta\tan\gamma}{\tan\gamma+2\tan\beta}$. Позначимо $x = \tan\alpha,\ldots$, тоді нерівність з умови перетвориться на таку: $\frac{y^2z}{2y+z}+\frac{z^2x}{2z+x}+\frac{x^2y}{2x+y}\ge 3$, при цьому з властивостей тангенсів кутів трикутника $xyz = x + y + z$. За нерівністю між середніми
```math
\frac{y^2z}{2y+z}+\frac{z^2x}{2z+x}+\frac{x^2y}{2x+y} \ge 3\sqrt[3]{\frac{(xyz)^3}{(2x+y)(2y+z)(2z+x)}} = \sqrt[3]{\frac{(3(x+y+z))^3}{(2x+y)(2y+z)(2z+x)}} = \sqrt[3]{\frac{((2x+y)+(2y+z)+(2z+x))^3}{(2x+y)(2y+z)(2z+x)}} \ge \sqrt[3]{\frac{27(2x+y)(2y+z)(2z+x)}{(2x+y)(2y+z)(2z+x)}}=3,
```
що й треба було довести.
</details>
