# Перший день

## 1
При яких дійсних значеннях параметра $a$ нерівність
```math
\left( ax^2 + 4(a+1)x + 4a + 1 \right) \left((4a+1)x^2 + 4(a+1)x + a\right) \geq 0
```
виконується при всіх дійсних значеннях $x$?

<details><summary>Відповідь</summary>

$a \in ( -\infty, -\frac{4}{7} ] \cup \left\{ -\frac{1}{3} \right\}$
<details><summary>Розв'язання</summary>

Безпосередньою перевіркою, переконуємось, що значення $a = -\frac{1}{4}$ та $a = 0$ умову не задовольняють. Нехай тепер $a(4a+1) \neq 0$, тобто в дужках записані квадратні тричлени. В них однакові дискримінанти: $D = 16(a+1)^2 - 4a(4a+1) = 28a + 16$. Тоді потрібні умови виконуються, якщо
```math
\begin{cases}
a(4a+1) > 0 \\
D = 28a + 16 \leq 0
\end{cases}
\iff a \leq -\frac{4}{7}.
```
$a(4a+1) > 0$ та параболи мають однакові корені. З цієї умови витікає, що вершини парабол співпадають, тому $\frac{2a+2}{a} = \frac{2a+2}{4a+1} \implies a = -1$ або $a = -\frac{1}{3}$. Значення $a = -1$ не задовольняє умову; а про значення $a = -\frac{1}{3}$ перевіркою переконуємось, що воно задовольняє умови задачі.
</details></details>

## 2
У гострокутному трикутнику $ABC$ проведено висоти $BB_1$ і $CC_1$. На променях $BB_1$ і $CC_1$ за точками $B_1$ і $C_1$ вибираються точки $P$ і $Q$ відповідно так, що $\angle APC = \angle AQB = 90^\circ$. Радіуси кіл, які вписані в трикутники $APC$ та $AQB$, рівні. Чи обов’язково трикутник $ABC$ рівнобедрений?
<details><summary>Відповідь</summary>

$\triangle ABC$ рівнобедрений
<details><summary>Розв'язання</summary>

Зрозуміло, що $\angle AQC_1 = \angle QBA$, тому трикутники $AQC_1$ та $QBA$ подібні $\implies AQ^2 = AC_1 \cdot AB$, аналогічно. Але точки $B$, $C_1$, $B_1$, $C$ – циклічні, а тому $AB_1 \cdot AC = AC_1 \cdot AB = AQ^2 = AP^2 \implies AP = AQ$. Далі можна доводити по різному, наприклад, таким чином, якщо позначити $r$ – радіуси вписаних кіл, то
```math
\tg \frac{\angle QAB}{2} = \frac{r}{AQ - r\sqrt{2}} = \tg \frac{\angle CAP}{2} \implies \angle QAB = \angle CAP \implies AC = AB,
```
тобто трикутник обов’язково рівнобедрений.
</details></details>

## 3
На клітчастій дошці розміром $n \times n$ двоє гравців по черзі малюють многокутники (не обов’язково опуклі) одиничної площі з вершинами у вузлах сітки. Забороняється малювати многокутник, який має спільні точки з вже намальованими. Програє той, хто не може намалювати черговий многокутник. Хто виграє у цій грі?
<details><summary>Відповідь</summary>
виграє перший гравець
<details><summary>Розв'язання</summary>
Покажемо, що першій завжди виграє завдяки симетричній стратегії, але для цього він повинен намалювати першім таку ламану, як зображена на рисунку.

Доволі легко переконатися, що площа багатокутника, який складається з двох трикутників як раз складає 1, а тому цілком задовольняє умови. Інші ламані можна малювати лише по різні боки від цієї, я між ними – неможливо, а тому симетрична стратегія цілком спрацьовує.
</details></details>

## 4
Знайдіть усі функції $f: X \to \mathbb{R}$, які для будь-яких чисел $x, y \in X$ задовольняють рівняння:
```math
f(x+y) + f(xy-1) = \left(f(x) + 1 \right)\left(f(y) + 1 \right)
```
якщо множина $X$ є множиною:
1. цілих чисел;
2. раціональних чисел.
<details><summary>Відповідь</summary>

$f(x) = x^2$
<details><summary>Розв'язання</summary>

Покладемо $y = 0$. Тоді
```math
f(x)f(0) = f(1) - f(0) - 1. \tag{2}
```
Припустимо, що $f(0) = c$, де $c$ - стала. Але рівняння $c + c = (c + 1)(c + 1)$ не має дійсних коренів, тому наше припущення хибне. Таким чином $f(0) = 0$ і з (2) випливає, що $f(-1) = 1$.

Покладемо в (2) $y = -1$. Тоді
```math
f(x - 1) + f(-x - 1) = 2f(x) + 2. \tag{3}
```
Покладемо в (3) спочатку $x = -1$, тоді $f(-2) = 4$. Далі $x = 1$, тоді $f(1) = 1$.

Покладемо в (1) $y = 1$, тоді
```math
f(x + 1) + f(x - 1) = 2f(x) + 2. \tag{4}
```
Різниця (4) і (3) дає для будь-яких дійсних $x$ виконується рівність $f(-x - 1) = f(x + 1)$, що доводить, що функція парна:
```math
f(-x) = f(x). \tag{5}
```
Методом математичної індукції доведемо, що для будь-яких натуральних $n$
```math
f(x + n) = (n + 1)f(x) - nf(x - 1) + n^2 + n. \tag{6}
```
База випливає з (4). Зробимо індукційний перехід: замінимо в рівності (6) $x$ на $x + 1$, з урахуванням (4), отримаємо:
```math
f(x + n + 1) = (n + 1)f(x + 1) - nf(x) + n^2 + n = (n + 1)(2f(x) - f(x - 1) + 2) - nf(x) + n^2 + n = (n + 2)f(x) - (n + 1)f(x - 1) + (n + 1)^2 + n + 1.
```
Аналогічно доводиться рівність
```math
f(x - n) = -(n - 1)f(x - 1) + nf(x-1) + n^2 - n. \tag{7}
```
Покладемо в (6) та (7) $x = 0$. Тоді для всіх цілих $n$
```math
f(n) = n^2. \tag{8}
```
Покладемо в (1) $y = n$. Тоді з урахуванням (6) і (8) отримаємо:
```math
f(nx - 1) = -f(x + n) + (f(x) + 1)(n^2 + 1),
```
```math
f(nx - 1) = (n^2 - n)f(x) + nf(x - 1) - n + 1. \tag{9}
```
Покладемо в (1) $y = -n$ і аналогічно отримаємо:
```math
f(x + 1) = (n^2 + n)f(x) - nf(x - 1) + n + 1. \tag{10}
```
Додамо (9) і (10):
```math
f(nx - 1) + f(nx + 1) = 2n^2f(x) + 2. \tag{11}
```
Замінюємо в (10) $x$ на $\frac{m}{n}$, де число $m$ - ціле, а $n$ - натуральне:
```math
f(m - 1) + f(m + 1) = 2n^2f\left(\frac{m}{n}\right) + 2,
```
враховуючи (8), маємо:
```math
f\left(\frac{m}{n}\right) = \left(\frac{m}{n}\right)^2.
```
Отже, для всіх $x \in \mathbb{Q}$
```math
f(x) = x^2.
```
Отже, $f(x) = x^2$ - єдиний розв’язок даного функціонального рівняння.
</details></details>

# Другий день
## 5
Розв’яжіть нерівність:
```math
\sin\left(\frac{x}{x^2+1}\right) + \frac{x^2+1}{x}\cos\left(\frac{x}{x^2+1}\right) \geq 0.
```
<details><summary>Відповідь</summary>

$x > 0$
<details><summary>Розв'язання</summary>

Зрозуміло, що при усіх дійсних $x$:
```math
-\frac{1}{2} \leq \frac{x}{x^2 + 1} \leq \frac{1}{2}
```
і тому $\sin \left( \frac{x}{x^2 + 1} \right)$ має той самий знак, що й число $x$, а $\cos \left( \frac{x}{x^2 + 1} \right) > 0$. Тому при $x > 0$ ліва частина додатна, при $x < 0$ – від’ємна, значення $x = 0$ не входить до області визначення.
</details></details>

## 6
У країні Карнавалії 669 міст, деякі з яких з’єднані дорогами з одностороннім рухом. Кожний день у довільних двох містах проводять карнавал, на час якого всі дороги, що входять і виходять з цих міст, перекриваються. Але схема доріг в Карнавалії влаштована так, що мешканці інших 667 міст можуть проїхати з будь-якого одного міста в будь-яке інше скориставшись однією або декількома дорогами, не порушуючи правил руху. Яка найменша кількість доріг може бути в Карнавалії?
<details><summary>Відповідь</summary>
2007
<details><summary>Розв'язання</summary>

З кожного міста має виходити не менше 3 доріг. Дійсно, якщо з міста _**A**_ виходить не більше $k \leq 2$ доріг, то позначимо для $k = 2$ ці міста через _**Б**_ та _**В**_, для $k = 1$ місто _**В**_ вибирається довільним чином. Нехай місто _**Г**_ не співпадає з _**А**_, _**Б**_ та _**В**_. Тоді з _**А**_ до _**Г**_ не можна проїхати повз міста _**Б**_ та _**В**_. Отже, потрібно не менше $3 \cdot 669 = 2007$ доріг.

Покажемо, що 2007 доріг достатньо. Розмістимо міста по колу. Нехай з кожного міста виходить дорога до 3 міст, які йдуть після нього за годинниковою стрілкою. При вилученні будь-яких 2 міст ми можемо проїхати всі міста у напрямку годинникової стрілки. Справді, кожне наступне невилучене місто буде не більше, ніж на 3 позиції далі попереднього, тому між містами є дорога. Отже, з кожного міста можна дістатися до кожного, просто кожен раз переїжджаючи до наступного по колу невилученого міста.
</details></details>

## 7
В гострокутному трикутнику $ABC$, $\angle ABC = 60^\circ$. Точка $D$ належить стороні $AC$. Доведіть нерівність:
```math
\sqrt{3} BD \le AC + \max\{AD, AC\}.
```
- <details>
    <summary>Розв'язання (автора)</summary>

    Нехай $D_1$, $D_2$ – образи точки $D$ при симетрії відносно сторін трикутника $ABC$. Тоді $BD = BD_1 = BD_2 = b$, і кут $\angle D_1BD_2 = 120^\circ$. За теоремою косинусів, $D_1D_2 = \sqrt{2b^2 - 2b^2 \cos 120^\circ} = \sqrt{3}b^2 = \sqrt{3}BD$. Точки $A_1$ і $C_1$ – образи точок $A$ і $C$ при симетрії відносно $DD_1$ та $DD_2$ відповідно. Тоді $DC_1 = DC$ і $A_1D = AD$. Кут $\angle CDC_1 + \angle ADA_1 = 180^\circ - 2 \cdot \angle ACB + 180^\circ - 2 \cdot \angle CAB = 360^\circ - 2 \cdot (\angle ACB + \angle BCA) = 360^\circ - 2 \cdot 120^\circ = 120^\circ \implies \angle A_1DC_1 = 180^\circ - \angle CDC_1 = \angle ADA_1 = 60^\circ$. Тоді в трикутнику $A_1DC_1$ сторона $A_1C_1$ – середня за величиною, тому $A_1C_1 \leq \max \{DA_1, DC_1\}$, остаточно маємо
    ```math
    \sqrt{3}BD = D_1D_2 \leq D_1A_1 + A_1C_1 + C_1D_2 \leq AD + \max \{AD, DC\} + DC.
    ```
</details>

- <details>
    <summary>Розв'язання (журі)</summary>

    Зуважимо, що в нерівності права частина не залежить від розташування точки $B$. Скористаймося цим. Будемо вважати, що нам задана сторона $AC = \sqrt{3}$.

    Побудуємо коло $\gamma$, що описане навколо $\triangle ABC$. Його радіус дорівнює
    ```math
    R = \frac{AC}{2 \sin \angle ABC} = \frac{\sqrt{3}}{2 \cdot \frac{\sqrt{3}}{2}} = 1.
    ```
    Знайдемо на описаному колі $\gamma$ точку $B$, для якої відстань $BD$ - максимальна. Для цього достатньо побудувати коло $w$ з центром в точці $D$ максимального радіуса, для якого воно буде мати спільні точки з колом $\gamma$. Зрозуміло, що це буде при умові, що ці кола дотикаються одне одного, точка дотику цих кіл є шуканою точкою, для якої досягається максимум лівої частини нерівності. Без обмежень загальності будемо вважати, що точка $D$ належить відрізку $EC$. За побудовою зрозуміло, що $\angle BAO = 30^\circ$, $OE = \frac{1}{2}$, $OB = OA = OC = 1$. Позначимо $ED = x \in \left[0, \frac{\sqrt{3}}{2}\right]$. Тоді $BD = OB + OD = 1 + \sqrt{x^2 + \frac{1}{4}}$, $AD + DC + \max \{AD, DC\} = \sqrt{3} + \frac{\sqrt{3}}{2} + x$. Залишається перевірити, що задана нерівність справджується за таких умов. Дійсно:
    ```math
    \sqrt{3} BD \leq \sqrt{3} B_0 D = \sqrt{3} \left(1 + \sqrt{x^2 + \frac{1}{4}}\right) \leq \sqrt{3} + \frac{\sqrt{3}}{2} + x  \iff \sqrt{3}\sqrt{x^2 + \frac{1}{4}} \leq \frac{\sqrt{3}}{2} + x \iff 3x^2 + \frac{3}{4} \leq \frac{3}{4} + \sqrt{3}x + x^2  \iff  2x^2 \leq \sqrt{3} x,
    ```
    остання нерівність очевидно справджується при $x \in \left[0, \frac{\sqrt{3}}{2}\right]$. Нерівність доведена.

    Розглянемо ті значення $x \in \left[0, \frac{\sqrt{3}}{2}\right]$, при яких остання нерівність перетворюється в рівність.

    При $x = 0$ ($D = E$) ми будемо мати випадок правильного трикутника, у якого $BD$ - висота, тоді
    ```math
    \sqrt{3} BD = \sqrt{3} \cdot \frac{\sqrt{3}}{2} \sqrt{3} = \frac{3\sqrt{3}}{2} = AC + AE = \sqrt{3} + \frac{\sqrt{3}}{2} = \frac{3\sqrt{3}}{2}
    ```
    і дійсно справджується рівність.

    При $x = \frac{\sqrt{3}}{2}$ ($D = C$) маємо прямокутний трикутник, у якого $BD$ - гіпотенуза, $AC$ - катет, що лежить проти кута $60^\circ$. Тоді
    ```math
    \sqrt{3} BD = \sqrt{3} \cdot 2 = AC + AC = \sqrt{3} + \sqrt{3} = 2 \sqrt{3},
    ```
    також має місце рівність.
</details>

## 8
Доведіть, що для довільних різних простих чисел $p$ і $q$ рівняння
```math
x(x+1) = pq(x - y)
```
1. має рівно два розв’язки в натуральних числах $(x, y)$;
2. в обох розв’язках значення $y$ однакове.
<details><summary>Розв'язання</summary>

1. Оскільки $p$, $q$ – прості, то або $x \mathop{\raisebox{-2pt}{\vdots}} p$, або $x \mathop{\raisebox{-2pt}{\vdots}} q$. Якщо це не так, то $(x+1) : p$ і $(x+1) \mathop{\raisebox{-2pt}{\vdots}} q$, тому $(x+1) > pq$ і $x > x-y$, то маємо суперечність з умовою задачі $x(x+1) > pq(x-y)$. Розглянемо ці два випадки:
    1. Нехай $x \mathop{\raisebox{-2pt}{\vdots}} p$. Зауважимо, що $x = pq \frac{x-y}{x+1} < pq$, тому $x \not\mathop{\raisebox{-2pt}{\vdots}} q$ і $(x+1) \mathop{\raisebox{-2pt}{\vdots}} q$.
    Позначимо через $r_1, r_2, \ldots, r_{q-1}$ остачі від ділення чисел $p \cdot 1, p \cdot 2, \ldots, p \cdot (q-1)$ на $q$. Усі $q-1$ остачі відмінні від нуля і різні (якби $r_i = r_j$, то $p(i-j) \mathop{\raisebox{-2pt}{\vdots}} q$ – що неможливо), тому знайдеться рівно одне натуральне $n$ $(1 \leq n \leq q-1)$ таке, що $pn+1 = mq$, де $m$ – натуральне. Отже, $x_1 = pn$, а з заданого рівняння знаходимо, що $y_1 = n(p-m)$.
    2. Нехай тепер $x \mathop{\raisebox{-2pt}{\vdots}} q$. Повністю аналогічно знайдемо другий розв’язок $x_2 = qk$ і $y_2 = k(q-l)$, де $qk+1 = lp$.
2. Розглянемо число $N = pq-1 - pn$. Воно натуральне, розташоване на інтервалі $(1, pq-1)$, з умови $pn+1 = mq \mathop{\raisebox{-2pt}{\vdots}} q$ і саме число $N \mathop{\raisebox{-2pt}{\vdots}} q$. Крім того, $N+1 = pq-pn \mathop{\raisebox{-2pt}{\vdots}} p$. Таким чином ми знайдемо два послідовних числа на інтервалі $(1, pq-1)$, перше з яких ділиться на $q$, а друге – на $p$, але за побудовою розв’язків рівняння це повинні бути числа $x_2$ та $x_2 + 1$. Тобто можемо записати рівність: $N = pq-1 - pn = qk \iff pn+qk = pq-1$. Тому $y_1 = n(p-m) = n \left( p - \frac{pn+1}{q} \right) = n \left( p - \frac{pq-qk}{q} \right) = n(p - (p-k)) = nk$. Аналогічно і $y_2 = k(q-l) = nk$, що й треба було довести.
</details>